<!DOCTYPE html>
<!--<html lang="en">-->
<!--<head>-->
    <!--<meta charset="UTF-8">-->
    <!--<title>Widget-list</title>-->
    <!--<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>-->
    <!--<link href="../css/style.css" rel="stylesheet"/>-->
<!--</head>-->
<!--<body>-->

<!-- HEADING -->

<div class="sticky-header">
    <div class="container-fluid">
        <h2 class="white-color">
            <div class="right-side-glyphicon">
                <a ng-click="model.newWidget()">
                    <span class="glyphicon glyphicon-plus"></span>
                </a>
            </div>
            <div class="left-side-glyphicon">
                <a ng-click="model.pages()">
                    <span class="glyphicon glyphicon-chevron-left"></span>
                </a>
            </div> Widgets
        </h2>
    </div>
</div>

<! -- HEADING END -->


<!--<div class="container" sortable-directive="">-->
<div class="container" sortable-directive on-stop="model.orderChanged(1, 0)">
    <!--<sortable-directive newIndex="model.newIndex" oldIndex="model.oldIndex">-->


        <!--<iframe width="100%" ng-src="https://www.youtube.com/embed/AM2Ivdi9c4E" frameborder="0" allowfullscreen="" src="https://www.youtube.com/embed/AM2Ivdi9c4E"></iframe>-->

    <div ng-repeat="widget in model.widgets">
<h1>{{vm.oldIndex}}</h1>

        <table>
            <tbody>
            <tr>
                <td>
                    <div ng-switch="widget.type">

                        <div ng-switch-when="HEADER">
                            <h4>{{widget.text}}</h4>
                        </div>
                        <div ng-switch-when="IMAGE">
                            <img ng-src="{{widget.url}}" width="{{widget.width}}"/>
                        </div>
                        <!--<div ng-switch-when="YOUTUBE" class="youtube-widget">-->
                        <div ng-switch-when="YOUTUBE" class="youtube-widget">
                            <!--<p>asdf asdf asdf asdf asdf</p>-->
                            <iframe width="100%" ng-src="{{model.doYouTrustUrl(widget.url)}}" frameborder="0" allowfullscreen></iframe>
                        </div>
                        <div ng-switch-when="HTML">
                            {{widget.text}}
                        </div>
                        <div ng-switch-when="INPUT">
                            <div ng-if="widget.formatted" text-angular ta-toolbar="..."></div>
                            <input ng-if="!widget.formatted && (!widget.rows || widget.rows===1)"
                                   placeholder="{{widget.textInput.placeholder}}" class="form-control"/>
                            <textarea ng-if="!widget.formatted && (widget.rows > 1)"
                                      rows="{{widget.rows}}" placeholder="{{widget.placeholder}}"
                                      class="form-control">{{widget.text}}</textarea>
                        </div>
                    </div>
                </td>
                <td class="right-side-glyphicon">
                    <a ng-click="model.edit(widget._id)">
                        <span class="glyphicon glyphicon-cog"></span>
                    </a>
                </td>
            </tr>
            </tbody>
        </table>


    </div>
    <!--</sortable-directive>-->

</div>












<!-- BOTTOM -->

<div class="sticky-footer">
    <div class="container-fluid">
        <h2><div class="right-side-glyphicon">
            <a ng-click="model.profile()">
                <span class="glyphicon glyphicon-user"></span>
            </a>
        </div></h2>
    </div>
</div>

<!-- BOTTOM END -->


<!--</body>-->
<!--</html>-->